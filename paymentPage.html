<!DOCTYPE html>
<html>
<head>
   
    <link rel="stylesheet" href="mystyle.css">

</head>
<body>
    <header>
        <nav>
            <ul>
                <li><button id="Home_button"><a href="./HomePage.html">Techify</a></button></li>
                <li><a href="./HomePage.html">Home</a></li>
                <li><a href="./Login.html">Login</a></li>
                <li><a href="./CreateAccount.html">Create Account</a></li>
              </ul>
        </nav>
    </header>
<div class="main">

    <form>

        <div class="row">

            <div class="col">

                <h3 class="heading">Billing address</h3>

                <div class="answer">
                    <span>Full Name :</span>
                    <input type="text" placeholder="Charlie Green">
                </div>
                <div class="answer">
                    <span>Email :</span>
                    <input type="email" placeholder="rose@gmail.com">
                </div>
                <div class="answer">
                    <span>Address :</span>
                    <input type="text" placeholder="street name">
                </div>
                <div class="answer">
                    <span>City :</span>
                    <input type="text" placeholder="Toronto">
                </div>

                <div class="last">
                    <div class="answer">
                        <span>Province :</span>
                        <input type="text" placeholder="Ontario">
                    </div>
                    <div class="answer">
                        <span>Postal Code :</span>
                        <input type="text" placeholder="XXX XXX">
                    </div>
                </div>

            </div>

            <div class="col">

                <h3 class="heading">Payment</h3>

                <div class="answer">
                    <span>Accepted Cards :</span>
                    <img src="card_img.png" alt="">
                </div>
                <div class="answer">
                    <span>Name On Card :</span>
                    <input type="text" placeholder="Charlie Green">
                </div>
                <div class="answer">
                    <span>Card Number :</span>
                    <input type="text" placeholder="XXXX-XXXX-XXXX-XXXX">
                </div>
                <div class="answer">
                    <span>Expiry Month :</span>
                    <input type="text" placeholder="01">
                </div>

                <div class="last">
                    <div class="answer">
                        <span>Expiry Year :</span>
                        <input type="number" placeholder="2026">
                    </div>
                    <div class="answer">
                        <span>CVV :</span>
                        <input type="text" placeholder="567">
                    </div>
                </div>

            </div>
    
        </div>

        <input type="submit" value="Confirm Payment" class="button">

    </form>

</div>    
<footer id="footer_content">
    <a href="./ContactUs.html" class="links">Contact Us</a>
    <a href="./AboutUs.html" class="links">About Us</a>
    <hr />
    <div>Â© 2023 Copyright</div>
</footer>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const form = document.querySelector('form');

        form.addEventListener('submit', event => {
            event.preventDefault();

            // Retrieve data from the URL of the previous page (CreateCustomers.html)
            const urlParams = new URLSearchParams(window.location.search);
            const firstName = urlParams.get('first-name');
            const lastName = urlParams.get('last-name');
            const email = urlParams.get('email');
            const address = urlParams.get('address');
            const product = urlParams.get('product');
            const subscriptionType = urlParams.get('subscription-type');

            // Construct the payment confirmation data
            const paymentConfirmationData = {
                firstName,
                lastName,
                email,
                address,
                product,
                subscriptionType,
                paymentStatus: 'confirmed' // You can add additional details or flags related to payment status
            };

            // Directly proceed without authentication (simplified demo)
            sendPaymentConfirmation(paymentConfirmationData);
        });
    });

    function sendPaymentConfirmation(paymentConfirmationData) {
        // Simulate sending payment confirmation data to the server
        fetch('/handlePaymentConfirmation', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(paymentConfirmationData),
        })
        .then(response => {
            if (response.ok) {
                alert('Payment confirmed!'); // Replace this with your desired action upon successful payment
            } else {
                alert('Payment confirmation failed!');
            }
        })
        .catch(error => {
            console.error('Error:', error);
            alert('Payment confirmation failed!');
        });
    }
</script>

    
</body>
</html>